# AI Agent Quick Start - READ THIS FIRST!

**Date:** November 16, 2025
**Critical:** This file contains information that MUST NOT BE FORGOTTEN

## üî¥ COMPILER LOCATIONS (ABSOLUTE PRIORITY #1)

### USE THESE EXACT PATHS - NO EXCEPTIONS!
```bash
C++ Compiler: /opt/clang-21/bin/clang++  (Clang 21.1.5 from source)
C Compiler:   /opt/clang-21/bin/clang
Ninja:        /usr/local/bin/ninja       (1.13.1 from source)
CMake:        /usr/bin/cmake             (System 3.28.3)
```

### ‚ùå NEVER USE THESE (THEY ARE BROKEN):
```bash
/home/linuxbrew/.linuxbrew/bin/clang++  ‚ùå BROKEN - Missing headers
/home/linuxbrew/.linuxbrew/bin/ninja    ‚ùå BROKEN - No C++23 modules
Any Homebrew/Linuxbrew compiler          ‚ùå INCOMPLETE INSTALLATION
Default 'clang++' or 'ninja' in PATH     ‚ùå WRONG VERSION
```

## üö® Why This Is Critical

**Previous Session Failure:** Agent forgot compiler location and used broken Linuxbrew compilers
**Result:** Build errors with missing `stddef.h`, `limits.h`, etc.
**Root Cause:** Clang at `/opt/clang-21` is custom-built with all features
**Solution:** ALWAYS use full paths to `/opt/clang-21/bin/clang++`

## üìã Standard CMake Build Commands

```bash
# Configure (ALWAYS use these exact flags)
cd /home/muyiwa/Development/FastestJSONInTheWest/build_tests
rm -rf *
/usr/bin/cmake -G Ninja \
  -DCMAKE_BUILD_TYPE=Release \
  -DCMAKE_CXX_COMPILER=/opt/clang-21/bin/clang++ \
  -DCMAKE_C_COMPILER=/opt/clang-21/bin/clang \
  -DCMAKE_MAKE_PROGRAM=/usr/local/bin/ninja \
  ../tests

# Build
/usr/local/bin/ninja all_tests
```

## üìö Essential Files to Read

**BEFORE doing anything, read these files in order:**

1. **`.project_session_state.md`** - Current project status, what's working, what's broken
2. **`docs/CODING_STANDARDS.md`** - Complete coding standards (now includes compiler info)
3. **`ai/AGENT_GUIDELINES.md`** - AI agent specific guidelines
4. **`.llvm_build_session.md`** - LLVM build status and recovery commands

## üîß Current Project Status

### Working ‚úÖ
- Clang 21.1.5 at `/opt/clang-21/bin/clang++` with builtin headers
- Ninja 1.13.1 at `/usr/local/bin/ninja`
- Test organization structure (`tests/performance/`, etc.)
- CMakeLists.txt configured correctly

### Broken ‚ùå
- `modules/fastjson.cppm` - Parser implementation incomplete
- Benchmarks don't compile (fastjson module broken)
- libc++ not yet installed (using libstdc++ temporarily)

### In Progress üîÑ
- LLVM full build running in background (Process 238689)
- Building: clang, clang-tools-extra, lld, mlir, openmp, libcxx, libcxxabi
- Directory: `/home/muyiwa/toolchain-build/llvm-full-build`
- Progress: Check with `tail /home/muyiwa/toolchain-build/llvm-full-build/build.log`

## üéØ Immediate Priority Tasks

1. **Fix `modules/fastjson.cppm`**
   - Parser class implementation incomplete
   - Backup at `modules/fastjson.cppm.backup`
   - Either restore from git or implement properly

2. **Build Benchmarks**
   - After fixing fastjson.cppm
   - Run all three benchmarks
   - Collect performance results

3. **After LLVM Build Completes**
   - Install: `cd /home/muyiwa/toolchain-build/llvm-full-build && sudo ninja install`
   - Update CMakeLists.txt to use `-stdlib=libc++`
   - Rebuild everything with libc++

4. **Final Steps**
   - Run comprehensive benchmarks
   - Commit with detailed message including performance data
   - Push to oldboldpilot/fastestjsoninthewest

## üîç Verification Commands

```bash
# Check compiler
/opt/clang-21/bin/clang++ --version
# Should show: clang version 21.1.5

# Check Ninja
/usr/local/bin/ninja --version
# Should show: 1.13.1

# Check builtin headers
ls /opt/clang-21/lib/clang/21/include/stddef.h
# Should exist

# Check LLVM build progress
ps aux | grep "[n]inja"
tail -f /home/muyiwa/toolchain-build/llvm-full-build/build.log

# Check if LLVM build completed
grep "LLVM Build Complete" /home/muyiwa/toolchain-build/llvm-full-build/build.log
```

## üõ†Ô∏è Common Issues and Solutions

### Issue: "stddef.h not found"
**Cause:** Using wrong compiler (Linuxbrew instead of `/opt/clang-21`)
**Solution:** Use `/opt/clang-21/bin/clang++` with full path

### Issue: "module 'fastjson' not found"
**Cause:** fastjson.cppm doesn't compile due to incomplete code
**Solution:** Fix fastjson.cppm parser implementation

### Issue: "Unix Makefiles doesn't support C++23 modules"
**Cause:** Wrong generator
**Solution:** Use `-G Ninja` and set `CMAKE_MAKE_PROGRAM=/usr/local/bin/ninja`

### Issue: "OpenMP not found"
**Cause:** Current Clang 21 installation doesn't have OpenMP yet
**Solution:** Wait for full LLVM build, or build without OpenMP for now

## üìù Template Commands

### Quick Build
```bash
cd /home/muyiwa/Development/FastestJSONInTheWest/build_tests && \
rm -rf * && \
/usr/bin/cmake -G Ninja \
  -DCMAKE_BUILD_TYPE=Release \
  -DCMAKE_CXX_COMPILER=/opt/clang-21/bin/clang++ \
  -DCMAKE_C_COMPILER=/opt/clang-21/bin/clang \
  -DCMAKE_MAKE_PROGRAM=/usr/local/bin/ninja \
  ../tests && \
/usr/local/bin/ninja all_tests
```

### Run Benchmarks
```bash
cd /home/muyiwa/Development/FastestJSONInTheWest/build_tests
./instruction_set_benchmark 100
./simd_optimization_benchmark  
./large_file_benchmark 100
```

## üíæ Session State Persistence

**This file and all `.md` files in the root are tracked in git.**
**Updates to this file should be committed periodically.**

Key session state files:
- `.ai_agent_readme.md` (this file)
- `.project_session_state.md`
- `.llvm_build_session.md`
- `.session_state.md` (if exists)

---

**Last Updated:** November 16, 2025
**Updated By:** AI Agent (Session recovery after compiler path confusion)
**Next Agent:** Please verify compiler paths BEFORE starting any build!
